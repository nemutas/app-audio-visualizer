(this.webpackJsonpaudio_visualizer=this.webpackJsonpaudio_visualizer||[]).push([[0],{12:function(t,e,n){"use strict";n.r(e);n(6);var c,r,i,a=n(0),u=n.n(a),o=n(5),s=n.n(o),l=n(2),f=n(3),h=n(1),b=function(){var t=Object(a.useRef)(null),e=Object(a.useRef)(null),n=Object(a.useRef)(),c=Object(a.useRef)(),r=Object(a.useRef)(.05);function i(t,e){var r=t.canvas.width,a=t.canvas.height,u=e.length,o=r/u,s=0;n.current.getByteFrequencyData(e),t.fillStyle="#1e1e1e",t.fillRect(0,0,r,a);for(var l=0;l<u;l++){var f=e[l],h=f+l/u*25,b=l/u*250;t.fillStyle="rgb("+h+","+b+",50)",t.fillRect(s,a/2,o,-f),t.fillRect(s,a/2,o,f),s+=o+1}c.current=requestAnimationFrame((function(){return i(t,e)}))}return Object(a.useEffect)((function(){return function(){c.current&&cancelAnimationFrame(c.current)}}),[]),Object(h.jsxs)("div",{className:d.container,children:[Object(h.jsx)("canvas",{ref:e,className:d.canvas}),Object(h.jsx)("audio",{ref:t,className:d.player,controls:!0,loop:!0,src:"./assets/\u305f\u306c\u304d\u3061\u306e\u5192\u967a.mp3",onPlay:function(){if(!n.current){var c=new AudioContext,a=c.createMediaElementSource(t.current),u=c.createAnalyser();a.connect(u),u.connect(c.destination),u.fftSize=256,n.current=u}t.current.volume=r.current;var o=n.current.frequencyBinCount,s=new Uint8Array(o);e.current.width=window.innerWidth,e.current.height=window.innerHeight,i(e.current.getContext("2d"),s)},onVolumeChange:function(){return r.current=t.current.volume}})]})},d={container:Object(f.a)(c||(c=Object(l.a)(["\n\t\tposition: relative;\n\t\twidth: 100vw;\n\t\theight: 100vh;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t"]))),canvas:Object(f.a)(r||(r=Object(l.a)(["\n\t\twidth: 100%;\n\t\theight: 100%;\n\t"]))),player:Object(f.a)(i||(i=Object(l.a)(["\n\t\tposition: absolute;\n\t\tbottom: 20px;\n\t"])))},j=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,13)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,i=e.getLCP,a=e.getTTFB;n(t),c(t),r(t),i(t),a(t)}))};s.a.render(Object(h.jsx)(u.a.StrictMode,{children:Object(h.jsx)(b,{})}),document.getElementById("root")),j()},6:function(t,e,n){}},[[12,1,2]]]);
//# sourceMappingURL=main.8a6f5a53.chunk.js.map